<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>PMC</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="png/pmcjpeg.png" type="image/x-icon">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/boxicons@latest/css/boxicons.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.24/css/jquery.dataTables.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.css">
    <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet">
    <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/css/bootstrap-datepicker.min.css">
    <link rel="stylesheet" href="libs/Leaflet.MousePosition-master/src/L.Control.MousePosition.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet-draw/dist/leaflet.draw.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet-measure@3.1.0/dist/leaflet-measure.css" />


    <style>
        #popup-table {
            width: 100%;
            max-width: 800px;
            margin: 0 auto;
        }

        .table-responsive {
            overflow-x: auto;
            max-width: 100%;
            margin-top: -16px;
        }

        .text-center {
            text-align: center;
        }

        .coordimg1 {
            text-decoration: none;
        }

        .leaflet-control-measure-toggle,
        .js-toggle {
            display: none;
        }

        .leaflet-retina .leaflet-control-measure .leaflet-control-measure-toggle,
        .leaflet-retina .leaflet-control-measure .leaflet-control-measure-toggle:hover {
            display: none;
        }

        /* Custom CSS for the modal print preview */
        @media print {
            .modal {
                display: block;
                position: static;
                width: 100%;
            }

            .modal-dialog {
                width: auto;
                margin: 0;
            }

            .modal-content {
                border: none;
                box-shadow: none;
            }

            .modal-header,
            .modal-footer {
                display: none;
            }

            .modal-body {
                padding: 0;
            }
        }


        .modal-body {
            max-height: 500px;
            overflow-y: auto;
            font-size: 14px;
            top: 0px;
            scrollbar-width: thin;

        }

        .modal-body tbody td {
            /* width: 205px; */
        }
    </style>
</head>

<body>

    <!-- model for popup -->


    <!-- Modal -->
    <div class="modal fade" id="dataPageModal" tabindex="-1" aria-labelledby="dataPageModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title fw-bold text-center" id="dataPageModalLabel">PREVIEW</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div>

                </div>
                <div class="modal-body">
                    <div class="table-responsive">
                        <table class="table table-bordered" id="popup-table">
                            <thead>
                                <tr>
                                    <th scope="col" class="text-center">Attribute</th>
                                    <th scope="col" class="text-center">Result</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Example Attribute</td>
                                    <td>Example Result</td>
                                </tr>
                            </tbody>

                        </table>
                    </div>
                </div>
                <div class="modal-footer d-flex justify-content-between">
                    <button type="button" class="btn btn-success" data-bs-dismiss="modal">Edit</button>
                    <button type="button" class="btn btn-success" data-bs-dismiss="modal"
                        onclick="submitForm()">Submit</button>
                    <!-- <button type="button" class="btn btn-primary" onclick="printModal()">Print</button> -->

                    <button type="button" class="btn btn-success" onclick="printModal()">
                        <i class="fas fa-print"></i>
                    </button>
                </div>
            </div>
        </div>
    </div>
    <header class="header justify-content-between bg-transparent" id="header">
        <img src="png/pmcjpeg.png" alt="" class="logopng">

        <div>
            <select id="search_type" class="" aria-label="Select a village">
                <option value="">Select Village</option>
            </select>

            <div class="dropdown-container">
                <div class="dropdown-button noselect">
                    <div class="dropdown-label ">Survey No</div>
                    <div class="dropdown-quantity pe-3">(<span class="quantity">Any</span>)</div>
                    <i class="fa-solid fa-angle-down ps"></i>
                </div>
                <div class="dropdown-list" style="display: none;">
                    <input type="search" placeholder="SurveyNo/CTC/Plot" class="dropdown-search ps-2"
                        id="surveySearch" />
                    <ul id="stateList"></ul>
                </div>
            </div>
        </div>

        <div class="custom-button1">
            <input id="fileInput" type="file" accept=".kml" style="display:none;" title="Upload KML/KMZ/CSV File">
            <label class="upload-btn">
                <img src="png/upload.svg" alt="" class="upload-icon"> Upload PDF file here
            </label>
            <div id="uploadModal" class="modal">
                <div class="content">
                    <span class="close">&times;</span>
                    <h4 class="uploadheading">Upload your file KML/KMZ/CSV</h4>
                    <div id="uploadBox" class="upload-box">
                        <p>Drag and drop a file here or
                            <button type="button" id="uploadLink">Upload a file</button>
                        </p>
                    </div>
                    <div id="fileDetails" class="file-details" style="display:none;">

                        <div class="file-info">
                            <!-- <img src="png/pdf.svg" alt="PDF icon" style="width:30px; height:30px;"> -->
                            <span id="fileName"></span>
                            <a href="#" id="viewFileLink" target="_blank">View File</a>
                        </div>
                        <button id="removeFileBtn" class="remove-btn">
                            Remove File
                            <img src="png/remove.svg" alt="Remove Icon" class="remove-icon">
                        </button>

                        <button id="continueBtn" class="continue-btn" disabled>Submit
                            <img src="png/formkit_submit.png" alt="Submit Icon" class="continue-icon">
                        </button>


                    </div>

                    <!-- Hidden file input element -->
                    <input type="file" id="fileUpload" style="display:none;">

                </div>
            </div>
        </div>


        <div class="tablefromautodcr" id="tablefromautoDcr"></div>

        <a href="AUTODCR GIS USER GUIDE (1).pdf" class="coordimg1" id="getinfo" target="_blank">
            <div style="display: flex; justify-content: center; align-items: center;">
                <i class="fas fa-question mt-2"></i>
            </div>
        </a>


        <div class="custom-buttoncsv">
            <button id="toggleFormBtn" class="addbtn">
                <img src="png/Gps.svg" alt="Add Icon" class="add-icon"> Add Coordinates
            </button>

            <div id="formContainer" class="form-modal" style="display:none;">
                <button id="closeFormBtn" class="close-btn">
                    <i class="fa-solid fa-xmark xicon" style="font-size: 18px; color: #141414d3;"></i>
                </button>
                <h5 style="text-align: center;">Add your co-ordinates here</h5>

                <form id="coordinateForm" style="text-align: center;">
                    <table id="coordinateTable">
                        <tr class="table-row-spacing">
                            <th class="p-1 px-5">Longitude</th>
                            <th class="p-1 px-5">Latitude</th>
                            <th class="p-1 px-4">Height</th>
                            <th class="p-1 px-3">Action</th>
                        </tr>

                    </table>
                    <button class="addbtn custom-btn " type="button" id="addRowBtn">
                        Add More Coordinates
                        <img src="png/Add.svg" alt="Add" style="width: 16px; height: 16px; margin-left: 8px;">
                    </button>

                    <button class="subbtn" type="submit">Submit
                        <img src="png/formkit_submit.png" alt="Add"
                            style="width: 16px;height: 16px;     margin-top: -4px; margin-left: 8px;">
                    </button>
                </form>
            </div>
        </div>

        </div>
    </header>


    <div class="legends hidden">
        <div class="header">
          <div class="legends1">Legends</div>
          </div>
          <div class="missing-link-buffer-container-parent">
          <div class="missing-link-buffer-container">
          <div class="autodcr-aviation-data">AutoDCR: Aviation Data</div>
          <div class="parent">
          <div class="div">
          <div class="child">
          </div>
          <div class="n1">N1</div>
          </div>
          <div class="frame-parent">
          <div class="item">
          </div>
          <div class="nda-arp">N2</div>
          </div>
          <div class="frame-parent">
          <div class="inner">
          </div>
          <div class="nda-arp">N3</div>
          </div>
          <div class="frame-parent">
          <div class="rectangle-div">
          </div>
          <div class="nda-arp">N4</div>
          </div>
          <div class="frame-parent">
          <div class="child1">
          </div>
          <div class="nda-arp">N5</div>
          </div>
          <div class="frame-parent">
          <div class="child2">
          </div>
          <div class="nda-arp">N6</div>
          </div>
          <div class="frame-parent">
          <div class="child3">
          </div>
          <div class="nda-arp">N8</div>
          </div>
          <div class="frame-parent">
          <div class="child4">
          </div>
          <div class="nda-arp">NDA ARP</div>
          </div>
          <div class="frame-parent">
          <div class="child5">
          </div>
          <div class="nda-arp">P1</div>
          </div>
          <div class="frame-parent">
          <div class="child6">
          </div>
          <div class="nda-arp">P2</div>
          </div>
          <div class="frame-parent">
          <div class="child7">
          </div>
          <div class="nda-arp">P3</div>
          </div>
          <div class="frame-parent">
          <div class="child8">
          </div>
          <div class="nda-arp">P4</div>
          </div>
          <div class="frame-parent">
          <div class="child9">
          </div>
          <div class="nda-arp">P5</div>
          </div>
          <div class="frame-parent">
          <div class="child10">
          </div>
          <div class="nda-arp">P6</div>
          </div>
          <div class="frame-parent">
          <div class="child11">
          </div>
          <div class="nda-arp">P8</div>
          </div>
          <div class="frame-parent">
          <div class="child12">
          </div>
          <div class="nda-arp">P9</div>
          </div>
          <div class="frame-parent">
          <div class="child4">
          </div>
          <div class="nda-arp">Pune ARP</div>
          </div>
          <div class="frame-parent">
          <div class="child14">
          </div>
          <div class="nda-arp">Zone is “</div>
          </div>
          </div>
          </div>
          <div class="missing-link-buffer-container">
          <div class="autodcr-aviation-data">AutoDCR: DP Ward Road</div>
          <div class="div18">
          <div class="frame-parent">
          <img class="frame-child" alt="" src="image/Frame 1410126079.svg">
          <div class="nda-arp">Single Symbol</div>
          </div>
          </div>
          </div>
          <div class="missing-link-buffer-container">
          <div class="autodcr-aviation-data">AutoDCR: Garden</div>
          <div class="div18">
          <div class="frame-parent">
          <div class="frame-item">
          </div>
          <div class="buffer-is">Buffer is “</div>
          </div>
          </div>
          </div>
          <div class="missing-link-buffer-container">
          <div class="autodcr-aviation-data">AutoDCR: JE Names</div>
          <div class="div18">
          <div class="frame-parent">
          <img class="frame-child" alt="" src="image/Frame 1410126079.svg">
          <div class="buffer-is">Buffer is “</div>
          </div>
          </div>
          </div>
          <div class="missing-link-buffer-container">
          <div class="autodcr-aviation-data">AutoDCR: Lake</div>
          <div class="div18">
          <div class="frame-parent">
          <div class="frame-child1">
          </div>
          <div class="nda-arp">Single Symbol</div>
          </div>
          </div>
          </div>
          <div class="missing-link-buffer-container">
          <div class="autodcr-aviation-data">AutoDCR: Monuments</div>
          <div class="parent">
          <div class="frame-parent">
          <div class="frame-child2">
          </div>
          <div class="nda-arp">100.00000000000</div>
          </div>
          <div class="frame-parent">
          <div class="frame-child3">
          </div>
          <div class="nda-arp">100.00000000000</div>
          </div>
          <div class="frame-parent">
          <div class="frame-child4">
          </div>
          <div class="nda-arp">Distance is “</div>
          </div>
          </div>
          </div>
          <div class="missing-link-buffer-container">
          <div class="autodcr-aviation-data">AutoDCR: PLU Ward</div>
          <div class="parent">
          <div class="frame-parent">
          <div class="frame-child5">
          </div>
          <div class="nda-arp">&lt;Null&gt;</div>
          </div>
          <div class="frame-parent">
          <div class="frame-child6">
          </div>
          <div class="commercial-zone">Commercial Zone </div>
          </div>
          <div class="frame-parent">
          <div class="frame-child7">
          </div>
          <div class="nda-arp">Existing PSP Reservation</div>
          </div>
          <div class="frame-parent">
          <div class="frame-child8">
          </div>
          <div class="nda-arp">Existing Recreational Reservation</div>
          </div>
          <div class="frame-parent">
          <div class="frame-child9">
          </div>
          <div class="nda-arp">Existing Traffic & Transport Reservation</div>
          </div>
          <div class="frame-parent">
          <div class="frame-child10">
          </div>
          <div class="nda-arp">Existing Utility Reservation</div>
          </div>
          <div class="frame-parent">
          <div class="frame-child11">
          </div>
          <div class="nda-arp">Industrial Zone</div>
          </div>
          <div class="frame-parent">
          <div class="frame-child6">
          </div>
          <div class="nda-arp">Proposed Commercial Reservation</div>
          </div>
          <div class="frame-parent">
          <div class="frame-child7">
          </div>
          <div class="nda-arp">Proposed PSP Reservation</div>
          </div>
          <div class="frame-parent">
          <div class="frame-child8">
          </div>
          <div class="nda-arp">Proposed Recreational Reservation</div>
          </div>
          <div class="frame-parent">
          <div class="frame-child15">
          </div>
          <div class="nda-arp">Proposed Residential Reservation</div>
          </div>
          <div class="frame-parent">
          <div class="frame-child9">
          </div>
          <div class="nda-arp">Proposed Transport Reservation</div>
          </div>
          <div class="frame-parent">
          <div class="frame-child10">
          </div>
          <div class="nda-arp">Proposed Utility Reservation</div>
          </div>
          <div class="frame-parent">
          <div class="frame-child7">
          </div>
          <div class="nda-arp">PSP Zone</div>
          </div>
          <div class="frame-parent">
          <div class="frame-child8">
          </div>
          <div class="nda-arp">Recretional Zone</div>
          </div>
          <div class="frame-parent">
          <div class="frame-child20">
          </div>
          <div class="nda-arp">Residential Zone</div>
          </div>
          <div class="frame-parent">
          <div class="frame-child21">
          </div>
          <div class="nda-arp">Slum Zone</div>
          </div>
          <div class="frame-parent">
          <div class="frame-child9">
          </div>
          <div class="nda-arp">Transportation Zone</div>
          </div>
          <div class="frame-parent">
          <div class="frame-child23">
          </div>
          <div class="nda-arp">Water Body</div>
          </div>
          <div class="frame-parent">
          <div class="frame-child24">
          </div>
          <div class="nda-arp">Broad_lu is “</div>
          </div>
          </div>
          </div>
          <div class="missing-link-buffer-container">
          <div class="autodcr-aviation-data">AutoDCR: Boundary</div>
          <div class="div18">
          <div class="frame-parent">
          <img class="frame-child" alt="" src="image/Frame 1410126079.svg">
          <div class="buffer-is">Buffer is “</div>
          </div>
          </div>
          </div>
          <div class="missing-link-buffer-container">
          <div class="autodcr-aviation-data">AutoDCR: PLU Ward</div>
          <div class="parent">
          <div class="frame-parent">
          <div class="frame-child5">
          </div>
          <div class="nda-arp">Commercial Reservation</div>
          </div>
          <div class="frame-parent">
          <div class="frame-child6">
          </div>
          <div class="nda-arp">Economically Weaker Section</div>
          </div>
          <div class="frame-parent">
          <div class="frame-child7">
          </div>
          <div class="nda-arp">PSP Reservation</div>
          </div>
          <div class="frame-parent">
          <div class="frame-child8">
          </div>
          <div class="nda-arp">Recretional Reservation</div>
          </div>
          <div class="frame-parent">
          <div class="frame-child9">
          </div>
          <div class="nda-arp">Transport Reservation</div>
          </div>
          <div class="frame-parent">
          <div class="frame-child10">
          </div>
          <div class="nda-arp">Utility Reservation</div>
          </div>
          <div class="frame-parent">
          <div class="frame-child11">
          </div>
          <div class="nda-arp">Broad_LU is “</div>
          </div>
          <div class="frame-parent">
          <div class="frame-child6">
          </div>
          <div class="nda-arp">Proposed Commercial Reservation</div>
          </div>
          <div class="frame-parent">
          <div class="frame-child7">
          </div>
          <div class="nda-arp">Proposed PSP Reservation</div>
          </div>
          <div class="frame-parent">
          <div class="frame-child8">
          </div>
          <div class="nda-arp">Proposed Recreational Reservation</div>
          </div>
          <div class="frame-parent">
          <div class="frame-child15">
          </div>
          <div class="nda-arp">Proposed Residential Reservation</div>
          </div>
          <div class="frame-parent">
          <div class="frame-child9">
          </div>
          <div class="nda-arp">Proposed Transport Reservation</div>
          </div>
          <div class="frame-parent">
          <div class="frame-child10">
          </div>
          <div class="nda-arp">Proposed Utility Reservation</div>
          </div>
          <div class="frame-parent">
          <div class="frame-child7">
          </div>
          <div class="nda-arp">PSP Zone</div>
          </div>
          <div class="frame-parent">
          <div class="frame-child8">
          </div>
          <div class="nda-arp">Recretional Zone</div>
          </div>
          <div class="frame-parent">
          <div class="frame-child20">
          </div>
          <div class="nda-arp">Residential Zone</div>
          </div>
          <div class="frame-parent">
          <div class="frame-child21">
          </div>
          <div class="nda-arp">Slum Zone</div>
          </div>
          <div class="frame-parent">
          <div class="frame-child9">
          </div>
          <div class="nda-arp">Transportation Zone</div>
          </div>
          <div class="frame-parent">
          <div class="frame-child23">
          </div>
          <div class="nda-arp">Water Body</div>
          </div>
          <div class="frame-parent">
          <div class="frame-child24">
          </div>
          <div class="nda-arp">Broad_lu is “</div>
          </div>
          </div>
          </div>
          <div class="missing-link-buffer-container">
          <div class="autodcr-aviation-data">AutoDCR: Railway Buffer</div>
          <div class="div18">
          <div class="frame-parent">
          <div class="frame-child45">
          </div>
          <div class="nda-arp">Distance is “</div>
          </div>
          </div>
          </div>
          <div class="missing-link-buffer-container">
          <div class="autodcr-aviation-data">AutoDCR: Red_Blue</div>
          <div class="parent">
          <div class="frame-parent">
          <div class="frame-child46">
          </div>
          <div class="nda-arp">Bank to Blue line</div>
          </div>
          <div class="frame-parent">
          <div class="frame-child47">
          </div>
          <div class="nda-arp">Blue to Red line</div>
          </div>
          </div>
          </div>
          <div class="missing-link-buffer-container">
          <div class="autodcr-aviation-data">AutoDCR: Revenue 1</div>
          <div class="div18">
          <div class="frame-parent">
          <div class="frame-child48">
          </div>
          <div class="nda-arp">Single Symbol Lable Rule</div>
          </div>
          </div>
          </div>
          <div class="missing-link-buffer-container">
          <div class="autodcr-aviation-data">AutoDCR: TDR Zones</div>
          <div class="div18">
          <div class="frame-parent">
          <img class="frame-child" alt="" src="image/Frame 1410126079.svg">
          <div class="buffer-is">Buffer is “</div>
          </div>
          </div>
          </div>
          <div class="missing-link-buffer-container">
          <div class="autodcr-aviation-data">AutoDCR: TOD Zones</div>
          <div class="div18">
          <div class="frame-parent">
          <div class="frame-child50">
          </div>
          <div class="buffer-is">Single Symbol Lable Rule</div>
          </div>
          </div>
          </div>
          <div class="missing-link-buffer-container">
          <div class="autodcr-aviation-data">AutoDCR: Village Boundary</div>
          <div class="div18">
          <div class="frame-parent">
          <div class="frame-child51">
          </div>
          <div class="nda-arp">Single Symbol</div>
          </div>
          </div>
          </div>
          <div class="missing-link-buffer-container">
          <div class="autodcr-aviation-data">AutoDCR: Ward Boundary</div>
          <div class="div18">
          <div class="frame-parent">
          <img class="frame-child" alt="" src="image/ward.svg">
          <div class="buffer-is">Buffer is “</div>
          </div>
          </div>
          </div>
          <div class="missing-link-buffer-container">
          <div class="autodcr-aviation-data">AutoDCR: Yerwada Jail</div>
          <div class="parent">
          <div class="frame-parent">
          <div class="frame-child53">
          </div>
          <div class="nda-arp">150 Buffer</div>
          </div>
          <div class="frame-parent">
          <div class="frame-child54">
          </div>
          <div class="nda-arp">100 Buffer</div>
          </div>
          <div class="frame-parent">
          <div class="frame-child55">
          </div>
          <div class="nda-arp">50 Buffer</div>
          </div>
          <div class="frame-parent">
          <div class="frame-child56">
          </div>
          <div class="nda-arp">0 Buffer</div>
          </div>
          </div>
          </div>
          <div class="missing-link-buffer-container">
          <div class="autodcr-aviation-data">AutoDCR: Auto Test</div>
          <div class="div18">
          <div class="frame-parent">
          <div class="frame-child57">
          </div>
          <div class="buffer-is">Single Symbol Lable Rule</div>
          </div>
          </div>
          </div>
          <div class="missing-link-buffer-container">
          <div class="autodcr-aviation-data">AutoDCR: Plot Boundary</div>
          <div class="div18">
          <div class="frame-parent">
          <div class="frame-child57">
          </div>
          <div class="buffer-is">Single Symbol Lable Rule</div>
          </div>
          </div>
          </div>
          </div>
          </div>
          



    <div id="content">
        <div id="map"></div>
        <button id="mapButton" class="map-button">
            <i class='fa-solid fa-bars'></i>
          
        </button>
        <p class="geopulseaname">@GeoPulse Analytics</p>
    </div>

     

    <!-- model for table from table softtect -->
    <div id="customPopup" class="popup">
        <div class="popup-content">
          <span class="close" onclick="closePopup()">&times;</span>
          <p id="popupMessage"></p>
        </div>
      </div>
      <style>
      /* Custom Popup CSS */
      .popup {
        display: none; /* Hidden by default */
        position: fixed;
        left: 50%;
        top: 50%;
        transform: translate(-50%, -50%);
        background-color: white;
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.5);
        z-index: 1000;
      }
      .popup-content {
        position: relative;
        text-align: center;
      }
      .close {
        position: absolute;
        top: 5px;
        right: 10px;
        cursor: pointer;
        font-size: 18px;
      }
      </style>

    <!-- Modal -->
 
 


    
    <!--legend -->
   
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.21/lodash.min.js"></script>
    <script src="https://cdn.datatables.net/1.10.24/js/jquery.dataTables.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="libs/leaflet.js"></script>
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.1.0-rc.0/js/select2.min.js"></script>
    <script
        src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/js/bootstrap-datepicker.min.js"></script>
    <script src="libs/Leaflet.MousePosition-master/src/L.Control.MousePosition.js"></script>
    <script src="libs/polyline-measure/line-measure.js"></script>
    <script src="libs/leaflet-measure-master/leaflet-measure.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@10"></script>
    <script src="https://cdn.jsdelivr.net/npm/@turf/turf@6.3.0/turf.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.0/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.3.1/jspdf.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.6.7/axios.min.js"></script>
    <script src="libs/esri-leaflet.js"></script>
    <script src="libs/leaflet.draw.js"></script>
    <script src="libs/turf.min.js"></script>
    <script src='libs/leaflet-omnivore.min.js'></script>
    <script src='libs/jszip.min.js'></script>
    <script src='libs/papaparse.min.js'></script>
    <script src="https://unpkg.com/leaflet-editable"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet.editable/1.0.0-rc.1/Leaflet.Editable.min.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/leaflet-measure@3.1.0/dist/leaflet-measure.js"></script>

    <script src="select2.js"></script>

    <script src="auto.js"></script>
    <script src="js/legend.js"></script>
    <script src="handshaking_codes.js"></script>




    <!-- code for the close coordinate -->

    <script>
        document.querySelector(".subbtn").addEventListener("click", function () {

            document.getElementById("formContainer").style.display = "none";
        });
    </script>


    <!-- code for close survey number-->



    <script>



        function getUrlParameter(name) {
            name = name.replace(/[\[]/, '\\[').replace(/[\]]/, '\\]');
            var regex = new RegExp('[\\?&]' + name + '=([^&#]*)');
            var results = regex.exec(location.search);
            return results === null ? '' : decodeURIComponent(results[1].replace(/\+/g, ' '));
        };


        function performTaskBasedOnVillage(villageName) {

            console.log("Village Name:", villageName);

            if (villageName === "ADCR020") {
                window.location.href = "http://localhost/autodcr/index.html";
            }

        }

        // -----------------

        function closeDropdown() {
            var dropdownList = document.querySelector(".dropdown-list");
            dropdownList.style.display = "none";
        }

        document.addEventListener("click", function (event) {
            var dropdownContainer = document.querySelector(".dropdown-container");
            var dropdownList = document.querySelector(".dropdown-list");

            if (!dropdownContainer.contains(event.target) && event.target !== dropdownList) {
                closeDropdown();
            }
        });


        let typingTimer; // Timer identifier
        const doneTypingInterval = 500; // Time in milliseconds to wait after typing
        const surveySearchInput = document.getElementById("surveySearch");

        function validateSurveyNumber() {
            var inputValue = surveySearchInput.value.trim(); // Get the trimmed input value
            var stateList = document.getElementById("stateList");
            var items = stateList.getElementsByTagName("li");

            var found = false;
            console.log("Input value:", inputValue); // Log the input value for debugging

            for (var i = 0; i < items.length; i++) {
                var item = items[i];
                if (item) {  // Check if the item exists
                    var itemValue = item.textContent.trim(); // Get the text content of the item
                    console.log("Checking against:", itemValue); // Log each item value for debugging

                    // Compare the item text with the input value
                    if (itemValue === inputValue) {
                        found = true;
                        break;
                    }
                }
            }

            // Show validation alert if the survey number is not found
            if (inputValue && !found) {
                alert("Survey number not found. Please check the survey number. If you have coordinates, please insert them.");
                // Clear the input box
                surveySearchInput.value = "";
            }
        }

        // On keyup, start the countdown to check the survey number
        surveySearchInput.addEventListener("keyup", function () {
            clearTimeout(typingTimer);
            typingTimer = setTimeout(validateSurveyNumber, doneTypingInterval);
        });

        // On keydown, clear the countdown 
        surveySearchInput.addEventListener("keydown", function () {
            clearTimeout(typingTimer);
        });

        // -------------------------------------


        var villageName = getUrlParameter('village_name');


        if (villageName) {
            performTaskBasedOnVillage(villageName);
        }
    </script>

    <script>


    </script>


    <script>
        document.getElementById("getinfo").addEventListener("mouseenter", function () {
            var tooltip = this.querySelector(".tooltip");
            tooltip.style.display = "block";
        });

        document.getElementById("getinfo").addEventListener("mouseleave", function () {
            var tooltip = this.querySelector(".tooltip");
            tooltip.style.display = "none";
        });

    </script>




    <script>




        function printModal() {
            // Get the modal content
            var modalContent = document.getElementById('dataPageModal').innerHTML;

            // Open a new window for printing
            var printWindow = window.open('', '', 'height=600,width=800');

            // Write HTML content to the print window
            printWindow.document.write('<html><head><title>Print Modal</title>');

            // Include Bootstrap CSS for styling
            printWindow.document.write('<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/5.3.0/css/bootstrap.min.css">');

            // Include custom styles for printing
            printWindow.document.write(`
        <style>
            body {
                font-family: Arial, sans-serif;
                margin: 20px;
            }
            .modal-content {
                border: 1px solid #dee2e6;
                border-radius: 0.375rem;
                padding: 20px;
                background-color: #ffffff;
                box-shadow: 0 0.125rem 0.25rem rgba(0,0,0,.075);
            }
            .table {
                border-collapse: collapse;
                width: 100%;
            }
            .table, .table th, .table td {
                border: 1px solid #dee2e6;
            }
            .table th, .table td {
                padding: 0.75rem;
                vertical-align: top;
            }
            .table thead th {
                vertical-align: bottom;
                background-color: #f8f9fa;
            }
        </style>
    `);

            printWindow.document.write('</head><body>');
            printWindow.document.write('<div class="modal-content">'); // Add a wrapper for modal content
            printWindow.document.write(modalContent);
            printWindow.document.write('</div>');
            printWindow.document.write('</body></html>');

            printWindow.document.close();
            printWindow.focus();

            // Print the content
            printWindow.print();
        }
// upload
document.addEventListener('DOMContentLoaded', function () {
    const uploadBtn = document.querySelector('.upload-btn');
    const fileInput = document.getElementById('fileInput');
    const modal = document.getElementById('uploadModal');
    const closeBtn = document.querySelector('.close');
    const uploadLink = document.getElementById('uploadLink');
    const uploadBox = document.getElementById('uploadBox');
    const fileDetails = document.getElementById('fileDetails');
    const fileName = document.getElementById('fileName');
    const viewFileLink = document.getElementById('viewFileLink');
    const removeFileBtn = document.getElementById('removeFileBtn');
    const continueBtn = document.getElementById('continueBtn');
    
    // Allowed file types
    const allowedExtensions = ['kml', 'kmz', 'csv'];
    let fileErrorAlertShown = false; // Flag to track if the error alert has been shown

            // // Allowed file types
            // const allowedExtensions = ['kml', 'kmz', 'csv'];
            // let fileErrorAlertShown = false; // Flag to track if the error alert has been shown

            // Show the modal when the upload button is clicked
            uploadBtn.addEventListener('click', function () {
                resetUploadForm(); // Reset the form each time the modal is opened
                modal.style.display = 'block';
            });

            // Close the modal when the close button is clicked
            closeBtn.addEventListener('click', function () {
                modal.style.display = 'none';
                resetUploadForm(); // Reset the form after closing the modal
            });

            // Close the modal if the user clicks outside of it
            window.addEventListener('click', function (event) {
                if (event.target === modal) {
                    modal.style.display = 'none';
                    resetUploadForm(); // Reset the form after closing the modal
                }
            });

            // Trigger file input click when the uploadLink button is clicked
            uploadLink.addEventListener('click', function () {
                fileInput.click();
            });

            // Handle file selection
            fileInput.addEventListener('change', function () {
                const file = fileInput.files[0];
                if (file) {
                    const fileExtension = file.name.split('.').pop().toLowerCase();
                    if (allowedExtensions.includes(fileExtension)) {
                        fileName.textContent = file.name;
                        viewFileLink.href = URL.createObjectURL(file);
                        fileDetails.style.display = 'block';
                        uploadBox.style.display = 'none';
                        continueBtn.disabled = false;
                        fileErrorAlertShown = false; // Reset the error alert flag
                    } else {
                        if (!fileErrorAlertShown) { // Show alert only if it hasn't been shown already
                            // alert("Invalid file type! Only KML, KMZ, or CSV files are allowed.");
                            fileErrorAlertShown = true; // Set the flag to true to prevent duplicate alerts
                        }
                        resetUploadForm(); // Reset form to remove invalid file
                    }
                }
            });

            // Handle file removal
            removeFileBtn.addEventListener('click', function () {
                resetUploadForm();
            });

            // Handle form submission
            continueBtn.addEventListener('click', function (e) {
                e.preventDefault();
                alert("File uploaded successfully!"); // Display success alert
                resetUploadForm(); // Clear file details after successful upload
                modal.style.display = 'none'; // Close the modal after resetting the form
            });

            // Function to reset the upload form
            function resetUploadForm() {
                fileInput.value = ''; // Clear the file input
                fileDetails.style.display = 'none'; // Hide file details
                uploadBox.style.display = 'block'; // Show upload box
                continueBtn.disabled = true; // Disable the continue button
                fileName.textContent = ''; // Clear the file name
                viewFileLink.href = '#'; // Reset the file link
            }
        });

    // Handle file removal
    removeFileBtn.addEventListener('click', function () {
        resetUploadForm();
    });

    // Handle form submission
    continueBtn.addEventListener('click', function(e) {
        e.preventDefault();
        alert("File uploaded successfully!"); // Display success alert
        resetUploadForm(); // Clear file details after successful upload
        modal.style.display = 'none'; // Close the modal after resetting the form
        zoomMap(); // Zoom the map after file upload
    });

    // Function to reset the upload form
    function resetUploadForm() {
        fileInput.value = ''; // Clear the file input
        fileDetails.style.display = 'none'; // Hide file details
        uploadBox.style.display = 'block'; // Show upload box
        continueBtn.disabled = true; // Disable the continue button
        fileName.textContent = ''; // Clear the file name
        viewFileLink.href = '#'; // Reset the file link
    }

    // Function to zoom the map (replace with your map zoom logic)
    function zoomMap() {
        // Ensure you have access to your map instance
        if (typeof map !== 'undefined') { // Check if map is defined
            map.setView([yourLatitude, yourLongitude], yourZoomLevel); // Update with your latitude, longitude, and zoom level
        }
    }
// });








//legend
document.getElementById('mapButton').addEventListener('click', function() {
    // Toggle the legends div
    const legends = document.querySelector('.legends');
    legends.classList.toggle('hidden');

    // Toggle the inner div
    const innerDiv = document.querySelector('.inner');
    innerDiv.classList.toggle('hidden');
});




</script>
</body>

</html>